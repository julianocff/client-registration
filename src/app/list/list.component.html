<mat-spinner *ngIf="isLoading" class="loading" class="loading"></mat-spinner>

<ng-template [ngIf]="existItems">
  <div *ngIf="!isLoading" class="container">
    <div class="add-button">
      <button mat-mini-fab color="primary" routerLink="/registration">
        <mat-icon>add</mat-icon>
      </button>
    </div>

    <div class="table-list">
      <table mat-table [dataSource]="items" class="mat-elevation-z8">
        <ng-container matColumnDef="cpf">
          <th mat-header-cell *matHeaderCellDef>CPF</th>
          <td mat-cell *matCellDef="let item">
            {{ item.cpf | cpfFormatPipe }}
          </td>
        </ng-container>

        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef>Name</th>
          <td mat-cell *matCellDef="let item">{{ item.name }}</td>
        </ng-container>

        <ng-container matColumnDef="age">
          <th mat-header-cell *matHeaderCellDef>Age</th>
          <td mat-cell *matCellDef="let item">{{ item.age }}</td>
        </ng-container>

        <ng-container matColumnDef="genre">
          <th mat-header-cell *matHeaderCellDef>Genre</th>
          <td mat-cell *matCellDef="let item">{{ item.genre }}</td>
        </ng-container>

        <ng-container matColumnDef="otherGenre">
          <th mat-header-cell *matHeaderCellDef>Other genre</th>
          <td mat-cell *matCellDef="let item">
            {{ item.otherGenre ? item.otherGenre : "-" }}
          </td>
        </ng-container>

        <ng-container matColumnDef="height">
          <td mat-cell *matCellDef="let item">
            {{ item.height | heightFormat }}
          </td>
          <th mat-header-cell *matHeaderCellDef>Height</th>
        </ng-container>

        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef>Actions</th>
          <td mat-cell *matCellDef="let item">
            <mat-icon id="icon-color-edit" (click)="onEdit(item)"
              >edit</mat-icon
            >
            <mat-icon id="icon-color-remove" (click)="onRemove(item)"
              >delete</mat-icon
            >
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </div>
    <div class="footer">
      <span>Remove all</span>
      <mat-icon (click)="onRemoveAll()" id="icon-color-remove">delete</mat-icon>
    </div>
  </div>
</ng-template>

<ng-template [ngIf]="!existItems && !isLoading">
  <div class="container-not-record">
    <div class="header">
      <p>There are not records</p>
    </div>
    <div class="footer-not-record">
      <button
        mat-raised-button
        color="primary"
        [routerLink]="['/registration']"
      >
        Add here!
      </button>
    </div>
  </div>
</ng-template>
